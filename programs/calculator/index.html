<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>Calculator</title>
    <link href="../../lib/os-gui/layout.css" rel="stylesheet" type="text/css">
    <link href="../../lib/os-gui/windows-98.css" rel="stylesheet" type="text/css">
    <link rel="icon" href="../../images/icons/calculator-16x16.png" sizes="16x16" type="image/png">
    <link rel="icon" href="../../images/icons/calculator-32x32.png" sizes="32x32" type="image/png">
    <meta name="viewport" content="width=device-width, user-scalable=no">
    <script src="../../lib/jquery.min.js"></script>
    <script src="../../lib/pep.js"></script>
    <script src="../../lib/os-gui/$MenuBar.js"></script>
    <script src="menus.js"></script>
    <link href="windows-98-calc.css" rel="stylesheet" type="text/css">
</head>

<body>

    <div class="splash">
        <div class="spinner"></div>
        <div class="msg"></div>
    </div>
    <script>
        function show(msg) {
            document.querySelector(".splash > .msg").innerHTML = msg;
        }
        function revealCalc() {
            document.querySelector(".container").style.display = "block";
            document.querySelector(".splash").style.display = "none";
        }
    </script>
    <script async src="mcalculator/server/public/js/script.js"></script>
    <script async onload="show('loading your files<br>Please wait...');" src="mcalculator/server/public/js/engine.js"></script>
    <!--Ids of buttons exactly match the Command enum (value) of CalculationManager namespace of engine-->
    <div style="display: none;" class="container">
        <div id="calc">
            <div id="topbar">
                <div class="row">
                    <button class="menu">&#xE700;</button>
                    <div class="title">
                        <div>Standard</div>
                    </div>
                    <div class="pip">
                        <button>â‡²</button>
                    </div>
                    <div style="margin: auto;" class="space"></div>
                    <div class="history">
                        <button onclick="toggleHistory()">
                            &#xe81c;
                        </button>
                    </div>
                </div>
            </div>
            <div id="display">
                <div id="expression">expression panel</div>
                <div id="primary">0</div>
            </div>
            <div id="funcs">
                <div class="row fluid">
                    <button id="122" class="disabled onmem">MC</button>
                    <button id="123" class="disabled onmem">MR</button>
                    <button id="125">M+</button>
                    <button id="126">M-</button>
                    <button id="124">MS</button>
                    <button onclick="toggleMemory()" class="memory disabled onmem">
                        M^
                    </button>
                </div>
            </div>
            <div id="inp">
                <div class="row fluid-yb6 fluid-x">
                    <button id="118">&#xE94C;</button>
                    <button id="82">CE</button>
                    <button id="81">C</button>
                    <button id="83">&#xE94F;</button>
                    <!--CommandBACK-->
                </div>
                <div class="row fluid-yb6 fluid-x">
                    <button id="114">&#xf7c9;</button>
                    <!--CommandREC-->
                    <button id="111">&#xf7c8;</button>
                    <button id="110">&#xF899;</button>
                    <!--CommandSQRT-->
                    <button id="91">&#xE94A;</button>
                </div>
                <div class="row fluid-yb6 fluid-x">
                    <button id="137" class="w b">7</button>
                    <button id="138" class="w b">8</button>
                    <button id="139" class="w b">9</button>
                    <button id="92">&#xE947;</button>
                </div>
                <div class="row fluid-yb6 fluid-x">
                    <button id="134" class="w b">4</button>
                    <button id="135" class="w b">5</button>
                    <button id="136" class="w b">6</button>
                    <button id="94">&#xE949;</button>
                </div>
                <div class="row fluid-yb6 fluid-x">
                    <button id="131" class="w b">1</button>
                    <button id="132" class="w b">2</button>
                    <button id="133" class="w b">3</button>
                    <button id="93">&#xE948;</button>
                </div>
                <div class="row fluid-yb6 fluid-x">
                    <button id="80" class="w">&#xF898;</button>
                    <button id="130" class="w b">0</button>
                    <button id="84" class="w b">.</button>
                    <button id="121" class="p">&#xE94E;</button>
                </div>
            </div>
        </div>
        <div id="sidebar">
            <div id="nav">
                <!--ids of nav math classes of panels!!!-->
                <div id="hspanel" class="nav-item active">
                    History
                    <div class="barbelow"></div>
                </div>
                <div id="mempanel" class="nav-item">
                    Memory
                    <div class="barbelow"></div>
                </div>
            </div>
            <div id="panel">
                <div class="hspanel">
                    <p>There is no history yet</p>
                    <!--buttons like this will be added dynamically-->
                    <!--
                        <button class="history-item">
                          <div class="expression"></div>
                          <div class="result"></div>
                        </button>
                        -->
                    <button style="display: none;" onclick="clearHistory()" class="del">
                        &#xE74D;
                    </button>
                </div>
                <div style="display: none;" class="mempanel">
                    <p>There's nothing saved in memory</p>
                    <button id="skel" style="display: none;" class="memory-item">
                        <div class="value">8566</div>
                        <div class="btns">
                            <div class="mp">M+</div>
                            <div class="mm">M-</div>
                            <div class="mc">MC</div>
                        </div>
                    </button>
                    <button style="display: none;" onclick="clearAllMemory()" class="del">
                        &#xE74D;
                    </button>
                </div>
            </div>
        </div>
    </div>
    <link rel="stylesheet" href="mcalculator/server/public/fonts.css" />
    <link rel="stylesheet" href="mcalculator/server/public/standard.css" />
    <noscript>
        <p>Calculator requires Javascript and WebAssembly to be enabled.</p>
    </noscript>
</body>

</html>